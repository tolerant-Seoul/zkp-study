import { type RollupContract } from '@aztec/ethereum/contracts';
import { EthAddress } from '@aztec/foundation/eth-address';
import { DateProvider } from '@aztec/foundation/timer';
import { EventEmitter } from 'events';
export type ChainMonitorEventMap = {
    'l1-block': [{
        l1BlockNumber: number;
        timestamp: bigint;
    }];
    'l2-block': [{
        l2BlockNumber: number;
        l1BlockNumber: number;
        l2SlotNumber: number;
        timestamp: bigint;
    }];
    'l2-block-proven': [{
        l2ProvenBlockNumber: number;
        l1BlockNumber: number;
        timestamp: bigint;
    }];
    'l2-messages': [{
        totalL2Messages: number;
        l1BlockNumber: number;
    }];
    'l2-epoch': [{
        l2EpochNumber: number;
        timestamp: bigint;
        committee: EthAddress[] | undefined;
    }];
    'l2-slot': [{
        l2SlotNumber: number;
        timestamp: bigint;
    }];
};
/** Utility class that polls the chain on quick intervals and logs new L1 blocks, L2 blocks, and L2 proofs. */
export declare class ChainMonitor extends EventEmitter<ChainMonitorEventMap> {
    private readonly rollup;
    private readonly dateProvider;
    private readonly logger;
    private readonly intervalMs;
    private readonly l1Client;
    private inbox;
    private handle;
    private running;
    /** Current L1 block number */
    l1BlockNumber: number;
    /** Current L2 block number */
    l2BlockNumber: number;
    /** Current L2 proven block number */
    l2ProvenBlockNumber: number;
    /** L1 timestamp for the current L2 block */
    l2BlockTimestamp: bigint;
    /** L1 timestamp for the proven L2 block */
    l2ProvenBlockTimestamp: bigint;
    /** Total number of L2 messages pushed into the Inbox */
    totalL2Messages: number;
    /** Current L2 epoch number */
    l2EpochNumber: bigint;
    /** Current L2 slot number */
    l2SlotNumber: bigint;
    constructor(rollup: RollupContract, dateProvider?: DateProvider, logger?: import("@aztec/foundation/log").Logger, intervalMs?: number);
    start(): this;
    stop(): Promise<void>;
    private getInbox;
    protected safeRun(): void;
    run(force?: boolean): Promise<this>;
    waitUntilL2Slot(slot: number | bigint): Promise<void>;
    waitUntilL1Block(block: number | bigint): Promise<void>;
    waitUntilL1Timestamp(timestamp: number | bigint): Promise<void>;
    waitUntilL2Block(l2BlockNumber: number | bigint): Promise<void>;
}
//# sourceMappingURL=chain_monitor.d.ts.map