import { type Logger } from '@aztec/foundation/log';
import type { DateProvider } from '@aztec/foundation/timer';
import { type Client, type Hex } from 'viem';
import { type ViemClient } from '../types.js';
export declare function waitUntilBlock<T extends Client>(client: T, blockNumber: number | bigint, logger?: Logger, timeout?: number): Promise<boolean>;
export declare function waitUntilL1Timestamp<T extends Client>(client: T, timestamp: number | bigint, logger?: Logger, timeout?: number): Promise<boolean>;
export interface Delayer {
    /** Returns the hashes of all effectively sent txs. */
    getSentTxHashes(): Hex[];
    /** Returns the raw hex for all cancelled txs. */
    getCancelledTxs(): Hex[];
    /** Delays the next tx to be sent so it lands on the given L1 block number. */
    pauseNextTxUntilBlock(l1BlockNumber: number | bigint | undefined): void;
    /** Delays the next tx to be sent so it lands on the given timestamp. */
    pauseNextTxUntilTimestamp(l1Timestamp: number | bigint | undefined): void;
    /** Delays the next tx to be sent indefinitely. */
    cancelNextTx(): void;
    /**
     * Sets max inclusion time into slot. If more than this many seconds have passed
     * since the last L1 block was mined, then any tx will not be mined in the current
     * L1 slot but will be deferred for the next one.
     */
    setMaxInclusionTimeIntoSlot(seconds: number | bigint | undefined): void;
}
/**
 * Returns a new client (without modifying the one passed in) with an injected tx delayer.
 * The delayer can be used to hold off the next tx to be sent until a given block number.
 * TODO(#10824): This doesn't play along well with blob txs for some reason.
 */
export declare function withDelayer<T extends ViemClient>(client: T, dateProvider: DateProvider, opts: {
    ethereumSlotDuration: bigint | number;
}): {
    client: T;
    delayer: Delayer;
};
//# sourceMappingURL=tx_delayer.d.ts.map