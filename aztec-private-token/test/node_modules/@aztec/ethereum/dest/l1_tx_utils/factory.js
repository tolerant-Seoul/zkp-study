import { EthAddress } from '@aztec/foundation/eth-address';
import { L1TxUtils } from './l1_tx_utils.js';
import { createViemSigner } from './signer.js';
export function createL1TxUtilsFromViemWallet(client, deps, config) {
    return new L1TxUtils(client, EthAddress.fromString(client.account.address), createViemSigner(client), deps?.logger, deps?.dateProvider, config, config?.debugMaxGasLimit ?? false, deps?.store, deps?.metrics);
}
export function createL1TxUtilsFromEthSigner(client, signer, deps, config) {
    const callback = async (transaction, _signingAddress)=>{
        return (await signer.signTransaction(transaction)).toViemTransactionSignature();
    };
    return new L1TxUtils(client, signer.address, callback, deps?.logger, deps?.dateProvider, config, config?.debugMaxGasLimit ?? false, deps?.store, deps?.metrics);
}
