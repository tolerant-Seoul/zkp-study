import { BlockAttestation } from '../p2p/block_attestation.js';
import type { P2PClientType } from '../p2p/client_type.js';
import { type ApiSchemaFor } from '../schemas/index.js';
import { Tx } from '../tx/tx.js';
import { TxHash } from '../tx/tx_hash.js';
export type PeerInfo = {
    status: 'connected';
    score: number;
    id: string;
} | {
    status: 'dialing';
    dialStatus: string;
    id: string;
    addresses: string[];
} | {
    status: 'cached';
    id: string;
    addresses: string[];
    enr: string;
    dialAttempts: number;
};
/** Exposed API to the P2P module. */
export interface P2PApiWithoutAttestations {
    /**
     * Returns all pending transactions in the transaction pool.
     * @param limit - The number of items to returns
     * @param after - The last known pending tx. Used for pagination
     * @returns An array of Txs.
     */
    getPendingTxs(limit?: number, after?: TxHash): Promise<Tx[]>;
    /** Returns the number of pending txs in the p2p tx pool. */
    getPendingTxCount(): Promise<number>;
    /**
     * Returns the ENR for this node, if any.
     */
    getEncodedEnr(): Promise<string | undefined>;
    /**
     * Returns info for all connected, dialing, and cached peers.
     */
    getPeers(includePending?: boolean): Promise<PeerInfo[]>;
}
export interface P2PApiWithAttestations extends P2PApiWithoutAttestations {
    /**
     * Queries the Attestation pool for attestations for the given slot
     *
     * @param slot - the slot to query
     * @param proposalId - the proposal id to query, or undefined to query all proposals for the slot
     * @returns BlockAttestations
     */
    getAttestationsForSlot(slot: bigint, proposalId?: string): Promise<BlockAttestation[]>;
    /** Deletes a given attestation manually from the p2p client attestation pool. */
    deleteAttestation(attestation: BlockAttestation): Promise<void>;
}
export interface P2PClient extends P2PApiWithAttestations {
    /** Manually adds an attestation to the p2p client attestation pool. */
    addAttestations(attestations: BlockAttestation[]): Promise<void>;
}
export type P2PApi<T extends P2PClientType = P2PClientType.Full> = T extends P2PClientType.Full ? P2PApiWithAttestations : P2PApiWithoutAttestations;
export type P2PApiFull<T extends P2PClientType = P2PClientType.Full> = T extends P2PClientType.Full ? P2PApiWithAttestations & P2PClient : P2PApiWithoutAttestations;
export declare const P2PApiSchema: ApiSchemaFor<P2PApi>;
//# sourceMappingURL=p2p.d.ts.map