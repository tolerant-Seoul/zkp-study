import { defaultFetch } from '@aztec/foundation/json-rpc/client';
import { z } from 'zod';
import type { ApiSchemaFor } from '../schemas/schemas.js';
import { type Offense, type SlashPayloadRound } from '../slashing/index.js';
import { type ComponentsVersions } from '../versioning/index.js';
import { type ArchiverSpecificConfig } from './archiver.js';
import { type SequencerConfig } from './configs.js';
import { type ProverConfig } from './prover-client.js';
import { type SlasherConfig } from './slasher.js';
import { type ValidatorClientFullConfig } from './validator.js';
/**
 * Aztec node admin API.
 */
export interface AztecNodeAdmin {
    /**
     * Retrieves the configuration of this node.
     */
    getConfig(): Promise<AztecNodeAdminConfig>;
    /**
     * Updates the configuration of this node.
     * @param config - Updated configuration to be merged with the current one.
     */
    setConfig(config: Partial<AztecNodeAdminConfig>): Promise<void>;
    /**
     * Pauses syncing, creates a backup of archiver and world-state databases, and uploads them. Returns immediately.
     * @param location - The location to upload the snapshot to.
     */
    startSnapshotUpload(location: string): Promise<void>;
    /**
     * Pauses syncing and rolls back the database to the target L2 block number.
     * @param targetBlockNumber - The block number to roll back to.
     * @param force - If true, clears the world state db and p2p dbs if rolling back to behind the finalized block.
     */
    rollbackTo(targetBlockNumber: number, force?: boolean): Promise<void>;
    /** Pauses archiver and world state syncing. */
    pauseSync(): Promise<void>;
    /** Resumes archiver and world state syncing. */
    resumeSync(): Promise<void>;
    /** Returns all monitored payloads by the slasher for the current round. */
    getSlashPayloads(): Promise<SlashPayloadRound[]>;
    /** Returns all offenses applicable for the given round. */
    getSlashOffenses(round: bigint | 'all' | 'current'): Promise<Offense[]>;
}
export type AztecNodeAdminConfig = ValidatorClientFullConfig & SequencerConfig & ProverConfig & SlasherConfig & Pick<ArchiverSpecificConfig, 'archiverPollingIntervalMS' | 'skipValidateBlockAttestations' | 'archiverBatchSize'> & {
    maxTxPoolSize: number;
};
export declare const AztecNodeAdminConfigSchema: z.ZodObject<{
    transactionPollingIntervalMS: z.ZodOptional<z.ZodNumber>;
    maxTxsPerBlock: z.ZodOptional<z.ZodNumber>;
    minTxsPerBlock: z.ZodOptional<z.ZodNumber>;
    maxL2BlockGas: z.ZodOptional<z.ZodNumber>;
    publishTxsWithProposals: z.ZodOptional<z.ZodBoolean>;
    maxDABlockGas: z.ZodOptional<z.ZodNumber>;
    coinbase: z.ZodOptional<import("../schemas/schemas.js").ZodFor<import("@aztec/foundation/schemas").EthAddress>>;
    feeRecipient: z.ZodOptional<import("../schemas/schemas.js").ZodFor<import("../aztec-address/index.js").AztecAddress>>;
    acvmWorkingDirectory: z.ZodOptional<z.ZodString>;
    acvmBinaryPath: z.ZodOptional<z.ZodString>;
    maxBlockSizeInBytes: z.ZodOptional<z.ZodNumber>;
    governanceProposerPayload: z.ZodOptional<import("../schemas/schemas.js").ZodFor<import("@aztec/foundation/schemas").EthAddress>>;
    maxL1TxInclusionTimeIntoSlot: z.ZodOptional<z.ZodNumber>;
    enforceTimeTable: z.ZodOptional<z.ZodBoolean>;
    fakeProcessingDelayPerTxMs: z.ZodOptional<z.ZodNumber>;
    attestationPropagationTime: z.ZodOptional<z.ZodNumber>;
    skipCollectingAttestations: z.ZodOptional<z.ZodBoolean>;
    secondsBeforeInvalidatingBlockAsCommitteeMember: z.ZodNumber;
    secondsBeforeInvalidatingBlockAsNonCommitteeMember: z.ZodNumber;
    injectFakeAttestation: z.ZodOptional<z.ZodBoolean>;
    shuffleAttestationOrdering: z.ZodOptional<z.ZodBoolean>;
    nodeUrl: z.ZodOptional<z.ZodString>;
    realProofs: z.ZodBoolean;
    proverId: z.ZodOptional<import("../schemas/schemas.js").ZodFor<import("@aztec/foundation/schemas").EthAddress>>;
    proverTestDelayType: z.ZodEnum<["fixed", "realistic"]>;
    proverTestDelayMs: z.ZodNumber;
    proverTestDelayFactor: z.ZodNumber;
    proverAgentCount: z.ZodNumber;
    slashOverridePayload: z.ZodOptional<z.ZodType<import("@aztec/foundation/schemas").EthAddress, any, string>>;
    slashMinPenaltyPercentage: z.ZodNumber;
    slashMaxPenaltyPercentage: z.ZodNumber;
    slashValidatorsAlways: z.ZodArray<z.ZodType<import("@aztec/foundation/schemas").EthAddress, any, string>, "many">;
    slashValidatorsNever: z.ZodArray<z.ZodType<import("@aztec/foundation/schemas").EthAddress, any, string>, "many">;
    slashPrunePenalty: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    slashDataWithholdingPenalty: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    slashInactivityTargetPercentage: z.ZodNumber;
    slashInactivityConsecutiveEpochThreshold: z.ZodNumber;
    slashInactivityPenalty: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    slashProposeInvalidAttestationsPenalty: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    slashAttestDescendantOfInvalidPenalty: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    slashUnknownPenalty: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    slashOffenseExpirationRounds: z.ZodNumber;
    slashMaxPayloadSize: z.ZodNumber;
    slashGracePeriodL2Slots: z.ZodNumber;
    slashExecuteRoundsLookBack: z.ZodNumber;
    slashSelfAllowed: z.ZodOptional<z.ZodBoolean>;
} & {
    validatorAddresses: z.ZodOptional<z.ZodArray<z.ZodType<import("@aztec/foundation/schemas").EthAddress, any, string>, "many">>;
    disableValidator: z.ZodBoolean;
    disabledValidators: z.ZodArray<z.ZodType<import("@aztec/foundation/schemas").EthAddress, any, string>, "many">;
    attestationPollingIntervalMs: z.ZodNumber;
    validatorReexecute: z.ZodBoolean;
    validatorReexecuteDeadlineMs: z.ZodNumber;
    alwaysReexecuteBlockProposals: z.ZodOptional<z.ZodBoolean>;
    fishermanMode: z.ZodOptional<z.ZodBoolean>;
    txPublicSetupAllowList: z.ZodOptional<z.ZodArray<z.ZodUnion<[z.ZodObject<{
        address: import("../schemas/schemas.js").ZodFor<import("../aztec-address/index.js").AztecAddress>;
        selector: import("../schemas/schemas.js").ZodFor<import("../abi/function_selector.js").FunctionSelector>;
    }, "strip", z.ZodTypeAny, {
        selector: import("../abi/function_selector.js").FunctionSelector;
        address: import("../aztec-address/index.js").AztecAddress;
    }, {
        selector?: any;
        address?: any;
    }>, z.ZodObject<{
        address: import("../schemas/schemas.js").ZodFor<import("../aztec-address/index.js").AztecAddress>;
    }, "strip", z.ZodTypeAny, {
        address: import("../aztec-address/index.js").AztecAddress;
    }, {
        address?: any;
    }>, z.ZodObject<{
        classId: import("../schemas/schemas.js").ZodFor<import("@aztec/foundation/schemas").Fr>;
        selector: import("../schemas/schemas.js").ZodFor<import("../abi/function_selector.js").FunctionSelector>;
    }, "strip", z.ZodTypeAny, {
        selector: import("../abi/function_selector.js").FunctionSelector;
        classId: import("@aztec/foundation/schemas").Fr;
    }, {
        selector?: any;
        classId?: any;
    }>, z.ZodObject<{
        classId: import("../schemas/schemas.js").ZodFor<import("@aztec/foundation/schemas").Fr>;
    }, "strip", z.ZodTypeAny, {
        classId: import("@aztec/foundation/schemas").Fr;
    }, {
        classId?: any;
    }>]>, "many">>;
    slashBroadcastedInvalidBlockPenalty: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    disableTransactions: z.ZodOptional<z.ZodBoolean>;
} & Pick<{
    archiverPollingIntervalMS: z.ZodOptional<z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodNumber>>;
    archiverBatchSize: z.ZodOptional<z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodNumber>>;
    viemPollingIntervalMS: z.ZodOptional<z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodNumber>>;
    maxLogs: z.ZodOptional<z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodNumber>>;
    archiverStoreMapSizeKb: z.ZodOptional<z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodNumber>>;
    skipValidateBlockAttestations: z.ZodOptional<z.ZodBoolean>;
    maxAllowedEthClientDriftSeconds: z.ZodOptional<z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodNumber>>;
}, "archiverPollingIntervalMS" | "archiverBatchSize" | "skipValidateBlockAttestations"> & {
    maxTxPoolSize: z.ZodNumber;
}, "strip", z.ZodTypeAny, {
    secondsBeforeInvalidatingBlockAsCommitteeMember: number;
    secondsBeforeInvalidatingBlockAsNonCommitteeMember: number;
    slashMinPenaltyPercentage: number;
    slashMaxPenaltyPercentage: number;
    slashValidatorsAlways: import("@aztec/foundation/schemas").EthAddress[];
    slashValidatorsNever: import("@aztec/foundation/schemas").EthAddress[];
    slashPrunePenalty: bigint;
    slashDataWithholdingPenalty: bigint;
    slashInactivityTargetPercentage: number;
    slashInactivityConsecutiveEpochThreshold: number;
    slashInactivityPenalty: bigint;
    slashProposeInvalidAttestationsPenalty: bigint;
    slashAttestDescendantOfInvalidPenalty: bigint;
    slashUnknownPenalty: bigint;
    slashOffenseExpirationRounds: number;
    slashMaxPayloadSize: number;
    slashGracePeriodL2Slots: number;
    slashBroadcastedInvalidBlockPenalty: bigint;
    slashExecuteRoundsLookBack: number;
    realProofs: boolean;
    proverTestDelayType: "fixed" | "realistic";
    proverTestDelayMs: number;
    proverTestDelayFactor: number;
    proverAgentCount: number;
    disableValidator: boolean;
    disabledValidators: import("@aztec/foundation/schemas").EthAddress[];
    attestationPollingIntervalMs: number;
    validatorReexecute: boolean;
    validatorReexecuteDeadlineMs: number;
    maxTxPoolSize: number;
    coinbase?: import("@aztec/foundation/schemas").EthAddress | undefined;
    feeRecipient?: import("../aztec-address/index.js").AztecAddress | undefined;
    transactionPollingIntervalMS?: number | undefined;
    maxTxsPerBlock?: number | undefined;
    minTxsPerBlock?: number | undefined;
    maxL2BlockGas?: number | undefined;
    publishTxsWithProposals?: boolean | undefined;
    maxDABlockGas?: number | undefined;
    acvmWorkingDirectory?: string | undefined;
    acvmBinaryPath?: string | undefined;
    txPublicSetupAllowList?: ({
        selector: import("../abi/function_selector.js").FunctionSelector;
        address: import("../aztec-address/index.js").AztecAddress;
    } | {
        address: import("../aztec-address/index.js").AztecAddress;
    } | {
        selector: import("../abi/function_selector.js").FunctionSelector;
        classId: import("@aztec/foundation/schemas").Fr;
    } | {
        classId: import("@aztec/foundation/schemas").Fr;
    })[] | undefined;
    maxBlockSizeInBytes?: number | undefined;
    governanceProposerPayload?: import("@aztec/foundation/schemas").EthAddress | undefined;
    maxL1TxInclusionTimeIntoSlot?: number | undefined;
    enforceTimeTable?: boolean | undefined;
    fakeProcessingDelayPerTxMs?: number | undefined;
    attestationPropagationTime?: number | undefined;
    skipCollectingAttestations?: boolean | undefined;
    injectFakeAttestation?: boolean | undefined;
    fishermanMode?: boolean | undefined;
    shuffleAttestationOrdering?: boolean | undefined;
    proverId?: import("@aztec/foundation/schemas").EthAddress | undefined;
    archiverPollingIntervalMS?: number | undefined;
    archiverBatchSize?: number | undefined;
    skipValidateBlockAttestations?: boolean | undefined;
    slashOverridePayload?: import("@aztec/foundation/schemas").EthAddress | undefined;
    slashSelfAllowed?: boolean | undefined;
    nodeUrl?: string | undefined;
    validatorAddresses?: import("@aztec/foundation/schemas").EthAddress[] | undefined;
    alwaysReexecuteBlockProposals?: boolean | undefined;
    disableTransactions?: boolean | undefined;
}, {
    secondsBeforeInvalidatingBlockAsCommitteeMember: number;
    secondsBeforeInvalidatingBlockAsNonCommitteeMember: number;
    slashMinPenaltyPercentage: number;
    slashMaxPenaltyPercentage: number;
    slashValidatorsAlways: string[];
    slashValidatorsNever: string[];
    slashPrunePenalty: string | number | bigint;
    slashDataWithholdingPenalty: string | number | bigint;
    slashInactivityTargetPercentage: number;
    slashInactivityConsecutiveEpochThreshold: number;
    slashInactivityPenalty: string | number | bigint;
    slashProposeInvalidAttestationsPenalty: string | number | bigint;
    slashAttestDescendantOfInvalidPenalty: string | number | bigint;
    slashUnknownPenalty: string | number | bigint;
    slashOffenseExpirationRounds: number;
    slashMaxPayloadSize: number;
    slashGracePeriodL2Slots: number;
    slashBroadcastedInvalidBlockPenalty: string | number | bigint;
    slashExecuteRoundsLookBack: number;
    realProofs: boolean;
    proverTestDelayType: "fixed" | "realistic";
    proverTestDelayMs: number;
    proverTestDelayFactor: number;
    proverAgentCount: number;
    disableValidator: boolean;
    disabledValidators: string[];
    attestationPollingIntervalMs: number;
    validatorReexecute: boolean;
    validatorReexecuteDeadlineMs: number;
    maxTxPoolSize: number;
    coinbase?: any;
    feeRecipient?: any;
    transactionPollingIntervalMS?: number | undefined;
    maxTxsPerBlock?: number | undefined;
    minTxsPerBlock?: number | undefined;
    maxL2BlockGas?: number | undefined;
    publishTxsWithProposals?: boolean | undefined;
    maxDABlockGas?: number | undefined;
    acvmWorkingDirectory?: string | undefined;
    acvmBinaryPath?: string | undefined;
    txPublicSetupAllowList?: ({
        selector?: any;
        address?: any;
    } | {
        address?: any;
    } | {
        selector?: any;
        classId?: any;
    } | {
        classId?: any;
    })[] | undefined;
    maxBlockSizeInBytes?: number | undefined;
    governanceProposerPayload?: any;
    maxL1TxInclusionTimeIntoSlot?: number | undefined;
    enforceTimeTable?: boolean | undefined;
    fakeProcessingDelayPerTxMs?: number | undefined;
    attestationPropagationTime?: number | undefined;
    skipCollectingAttestations?: boolean | undefined;
    injectFakeAttestation?: boolean | undefined;
    fishermanMode?: boolean | undefined;
    shuffleAttestationOrdering?: boolean | undefined;
    proverId?: any;
    archiverPollingIntervalMS?: string | number | bigint | undefined;
    archiverBatchSize?: string | number | bigint | undefined;
    skipValidateBlockAttestations?: boolean | undefined;
    slashOverridePayload?: string | undefined;
    slashSelfAllowed?: boolean | undefined;
    nodeUrl?: string | undefined;
    validatorAddresses?: string[] | undefined;
    alwaysReexecuteBlockProposals?: boolean | undefined;
    disableTransactions?: boolean | undefined;
}>;
export declare const AztecNodeAdminApiSchema: ApiSchemaFor<AztecNodeAdmin>;
export declare function createAztecNodeAdminClient(url: string, versions?: Partial<ComponentsVersions>, fetch?: typeof defaultFetch): AztecNodeAdmin;
//# sourceMappingURL=aztec-node-admin.d.ts.map