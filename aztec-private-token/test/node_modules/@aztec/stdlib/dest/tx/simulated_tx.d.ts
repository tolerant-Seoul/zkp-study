import { type ZodFor } from '@aztec/foundation/schemas';
import type { FieldsOf } from '@aztec/foundation/types';
import { z } from 'zod';
import { type ContractArtifact } from '../abi/abi.js';
import { type ContractInstanceWithAddress } from '../contract/interfaces/contract_instance.js';
import type { GasUsed } from '../gas/gas_used.js';
import { PrivateKernelTailCircuitPublicInputs } from '../kernel/private_kernel_tail_circuit_public_inputs.js';
import { PrivateExecutionResult } from './private_execution_result.js';
import { type SimulationStats } from './profiling.js';
import { NestedProcessReturnValues, PublicSimulationOutput } from './public_simulation_output.js';
import { Tx } from './tx.js';
export type ContractOverrides = Record<string, {
    instance: ContractInstanceWithAddress;
    artifact: ContractArtifact;
}>;
export declare class SimulationOverrides {
    contracts?: ContractOverrides | undefined;
    constructor(contracts?: ContractOverrides | undefined);
    static get schema(): z.ZodEffects<z.ZodObject<{
        contracts: import("@aztec/foundation/schemas").ZodNullableOptional<z.ZodRecord<z.ZodString, z.ZodObject<{
            instance: z.ZodIntersection<z.ZodObject<{
                version: z.ZodLiteral<1>;
                salt: ZodFor<import("@aztec/foundation/schemas").Fr>;
                deployer: ZodFor<import("../aztec-address/index.js").AztecAddress>;
                currentContractClassId: ZodFor<import("@aztec/foundation/schemas").Fr>;
                originalContractClassId: ZodFor<import("@aztec/foundation/schemas").Fr>;
                initializationHash: ZodFor<import("@aztec/foundation/schemas").Fr>;
                publicKeys: z.ZodEffects<z.ZodObject<{
                    masterNullifierPublicKey: z.ZodType<import("@aztec/foundation/schemas").Point, any, string>;
                    masterIncomingViewingPublicKey: z.ZodType<import("@aztec/foundation/schemas").Point, any, string>;
                    masterOutgoingViewingPublicKey: z.ZodType<import("@aztec/foundation/schemas").Point, any, string>;
                    masterTaggingPublicKey: z.ZodType<import("@aztec/foundation/schemas").Point, any, string>;
                }, "strip", z.ZodTypeAny, {
                    masterNullifierPublicKey: import("@aztec/foundation/schemas").Point;
                    masterIncomingViewingPublicKey: import("@aztec/foundation/schemas").Point;
                    masterOutgoingViewingPublicKey: import("@aztec/foundation/schemas").Point;
                    masterTaggingPublicKey: import("@aztec/foundation/schemas").Point;
                }, {
                    masterNullifierPublicKey: string;
                    masterIncomingViewingPublicKey: string;
                    masterOutgoingViewingPublicKey: string;
                    masterTaggingPublicKey: string;
                }>, import("../keys/public_keys.js").PublicKeys, {
                    masterNullifierPublicKey: string;
                    masterIncomingViewingPublicKey: string;
                    masterOutgoingViewingPublicKey: string;
                    masterTaggingPublicKey: string;
                }>;
            }, "strip", z.ZodTypeAny, {
                version: 1;
                salt: import("@aztec/foundation/schemas").Fr;
                publicKeys: import("../keys/public_keys.js").PublicKeys;
                deployer: import("../aztec-address/index.js").AztecAddress;
                currentContractClassId: import("@aztec/foundation/schemas").Fr;
                originalContractClassId: import("@aztec/foundation/schemas").Fr;
                initializationHash: import("@aztec/foundation/schemas").Fr;
            }, {
                version: 1;
                publicKeys: {
                    masterNullifierPublicKey: string;
                    masterIncomingViewingPublicKey: string;
                    masterOutgoingViewingPublicKey: string;
                    masterTaggingPublicKey: string;
                };
                salt?: any;
                deployer?: any;
                currentContractClassId?: any;
                originalContractClassId?: any;
                initializationHash?: any;
            }>, z.ZodObject<{
                address: ZodFor<import("../aztec-address/index.js").AztecAddress>;
            }, "strip", z.ZodTypeAny, {
                address: import("../aztec-address/index.js").AztecAddress;
            }, {
                address?: any;
            }>>;
            artifact: ZodFor<ContractArtifact>;
        }, "strip", z.ZodTypeAny, {
            instance: {
                version: 1;
                salt: import("@aztec/foundation/schemas").Fr;
                publicKeys: import("../keys/public_keys.js").PublicKeys;
                deployer: import("../aztec-address/index.js").AztecAddress;
                currentContractClassId: import("@aztec/foundation/schemas").Fr;
                originalContractClassId: import("@aztec/foundation/schemas").Fr;
                initializationHash: import("@aztec/foundation/schemas").Fr;
            } & {
                address: import("../aztec-address/index.js").AztecAddress;
            };
            artifact: ContractArtifact;
        }, {
            instance: {
                version: 1;
                publicKeys: {
                    masterNullifierPublicKey: string;
                    masterIncomingViewingPublicKey: string;
                    masterOutgoingViewingPublicKey: string;
                    masterTaggingPublicKey: string;
                };
                salt?: any;
                deployer?: any;
                currentContractClassId?: any;
                originalContractClassId?: any;
                initializationHash?: any;
            } & {
                address?: any;
            };
            artifact?: any;
        }>>>;
    }, "strip", z.ZodTypeAny, {
        contracts?: Record<string, {
            instance: {
                version: 1;
                salt: import("@aztec/foundation/schemas").Fr;
                publicKeys: import("../keys/public_keys.js").PublicKeys;
                deployer: import("../aztec-address/index.js").AztecAddress;
                currentContractClassId: import("@aztec/foundation/schemas").Fr;
                originalContractClassId: import("@aztec/foundation/schemas").Fr;
                initializationHash: import("@aztec/foundation/schemas").Fr;
            } & {
                address: import("../aztec-address/index.js").AztecAddress;
            };
            artifact: ContractArtifact;
        }> | undefined;
    }, {
        contracts?: Record<string, {
            instance: {
                version: 1;
                publicKeys: {
                    masterNullifierPublicKey: string;
                    masterIncomingViewingPublicKey: string;
                    masterOutgoingViewingPublicKey: string;
                    masterTaggingPublicKey: string;
                };
                salt?: any;
                deployer?: any;
                currentContractClassId?: any;
                originalContractClassId?: any;
                initializationHash?: any;
            } & {
                address?: any;
            };
            artifact?: any;
        }> | undefined;
    }>, SimulationOverrides, {
        contracts?: Record<string, {
            instance: {
                version: 1;
                publicKeys: {
                    masterNullifierPublicKey: string;
                    masterIncomingViewingPublicKey: string;
                    masterOutgoingViewingPublicKey: string;
                    masterTaggingPublicKey: string;
                };
                salt?: any;
                deployer?: any;
                currentContractClassId?: any;
                originalContractClassId?: any;
                initializationHash?: any;
            } & {
                address?: any;
            };
            artifact?: any;
        }> | undefined;
    }>;
}
export declare class PrivateSimulationResult {
    privateExecutionResult: PrivateExecutionResult;
    publicInputs: PrivateKernelTailCircuitPublicInputs;
    constructor(privateExecutionResult: PrivateExecutionResult, publicInputs: PrivateKernelTailCircuitPublicInputs);
    getPrivateReturnValues(): NestedProcessReturnValues;
    toSimulatedTx(): Promise<Tx>;
}
export declare class TxSimulationResult {
    privateExecutionResult: PrivateExecutionResult;
    publicInputs: PrivateKernelTailCircuitPublicInputs;
    publicOutput?: PublicSimulationOutput | undefined;
    stats?: SimulationStats | undefined;
    constructor(privateExecutionResult: PrivateExecutionResult, publicInputs: PrivateKernelTailCircuitPublicInputs, publicOutput?: PublicSimulationOutput | undefined, stats?: SimulationStats | undefined);
    get gasUsed(): GasUsed;
    static get schema(): ZodFor<TxSimulationResult>;
    static from(fields: Omit<FieldsOf<TxSimulationResult>, 'gasUsed'>): TxSimulationResult;
    static fromPrivateSimulationResultAndPublicOutput(privateSimulationResult: PrivateSimulationResult, publicOutput?: PublicSimulationOutput, stats?: SimulationStats): TxSimulationResult;
    static random(): Promise<TxSimulationResult>;
    getPrivateReturnValues(): NestedProcessReturnValues;
    toSimulatedTx(): Promise<Tx>;
    getPublicReturnValues(): NestedProcessReturnValues[];
}
/**
 * Recursively accummulate the return values of a call result and its nested executions,
 * so they can be retrieved in order.
 * @param executionResult
 * @returns
 */
export declare function accumulatePrivateReturnValues(executionResult: PrivateExecutionResult): NestedProcessReturnValues;
//# sourceMappingURL=simulated_tx.d.ts.map