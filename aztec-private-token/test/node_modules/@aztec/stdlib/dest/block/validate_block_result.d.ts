import { EthAddress } from '@aztec/foundation/eth-address';
import { BufferReader } from '@aztec/foundation/serialize';
import { z } from 'zod';
import { type L2BlockInfo } from './l2_block_info.js';
import { CommitteeAttestation } from './proposal/committee_attestation.js';
/** Subtype for invalid block validation results */
export type ValidateBlockNegativeResult = {
    valid: false;
    /** Identifiers from the invalid block */
    block: L2BlockInfo;
    /** Committee members at the epoch this block was proposed */
    committee: EthAddress[];
    /** Epoch in which this block was proposed */
    epoch: bigint;
    /** Proposer selection seed for the epoch */
    seed: bigint;
    /** List of committee members who signed this block proposal */
    attestors: EthAddress[];
    /** Committee attestations for this block as they were posted to L1 */
    attestations: CommitteeAttestation[];
    /** Reason for the block being invalid: not enough attestations were posted */
    reason: 'insufficient-attestations';
} | {
    valid: false;
    /** Identifiers from the invalid block */
    block: L2BlockInfo;
    /** Committee members at the epoch this block was proposed */
    committee: EthAddress[];
    /** Epoch in which this block was proposed */
    epoch: bigint;
    /** Proposer selection seed for the epoch */
    seed: bigint;
    /** List of committee members who signed this block proposal */
    attestors: EthAddress[];
    /** Committee attestations for this block as they were posted to L1 */
    attestations: CommitteeAttestation[];
    /** Reason for the block being invalid: an invalid attestation was posted */
    reason: 'invalid-attestation';
    /** Index in the attestations array of the invalid attestation posted */
    invalidIndex: number;
};
/** Result type for validating a block attestations */
export type ValidateBlockResult = {
    valid: true;
} | ValidateBlockNegativeResult;
export declare const ValidateBlockResultSchema: z.ZodUnion<[z.ZodObject<{
    valid: z.ZodLiteral<true>;
}, "strip", z.ZodTypeAny, {
    valid: true;
}, {
    valid: true;
}>, z.ZodObject<{
    valid: z.ZodLiteral<false>;
    block: z.ZodObject<{
        blockHash: z.ZodOptional<z.ZodType<import("@aztec/foundation/schemas").Fr, any, string>>;
        archive: z.ZodType<import("@aztec/foundation/schemas").Fr, any, string>;
        lastArchive: z.ZodType<import("@aztec/foundation/schemas").Fr, any, string>;
        blockNumber: z.ZodNumber;
        slotNumber: z.ZodNumber;
        txCount: z.ZodNumber;
        timestamp: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    }, "strip", z.ZodTypeAny, {
        blockNumber: number;
        slotNumber: number;
        timestamp: bigint;
        lastArchive: import("@aztec/foundation/schemas").Fr;
        archive: import("@aztec/foundation/schemas").Fr;
        txCount: number;
        blockHash?: import("@aztec/foundation/schemas").Fr | undefined;
    }, {
        blockNumber: number;
        slotNumber: number;
        timestamp: string | number | bigint;
        lastArchive: string;
        archive: string;
        txCount: number;
        blockHash?: string | undefined;
    }>;
    committee: z.ZodArray<z.ZodType<EthAddress, any, string>, "many">;
    epoch: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    seed: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    attestors: z.ZodArray<z.ZodType<EthAddress, any, string>, "many">;
    attestations: z.ZodArray<z.ZodEffects<z.ZodObject<{
        address: z.ZodType<EthAddress, any, string>;
        signature: z.ZodEffects<z.ZodEffects<z.ZodEffects<z.ZodString, `0x${string}`, string>, `0x${string}`, string>, import("./proposal/committee_attestation.js").Signature, string>;
    }, "strip", z.ZodTypeAny, {
        address: EthAddress;
        signature: import("./proposal/committee_attestation.js").Signature;
    }, {
        address: string;
        signature: string;
    }>, CommitteeAttestation, {
        address: string;
        signature: string;
    }>, "many">;
    reason: z.ZodLiteral<"insufficient-attestations">;
}, "strip", z.ZodTypeAny, {
    valid: false;
    block: {
        blockNumber: number;
        slotNumber: number;
        timestamp: bigint;
        lastArchive: import("@aztec/foundation/schemas").Fr;
        archive: import("@aztec/foundation/schemas").Fr;
        txCount: number;
        blockHash?: import("@aztec/foundation/schemas").Fr | undefined;
    };
    attestations: CommitteeAttestation[];
    committee: EthAddress[];
    epoch: bigint;
    seed: bigint;
    attestors: EthAddress[];
    reason: "insufficient-attestations";
}, {
    valid: false;
    block: {
        blockNumber: number;
        slotNumber: number;
        timestamp: string | number | bigint;
        lastArchive: string;
        archive: string;
        txCount: number;
        blockHash?: string | undefined;
    };
    attestations: {
        address: string;
        signature: string;
    }[];
    committee: string[];
    epoch: string | number | bigint;
    seed: string | number | bigint;
    attestors: string[];
    reason: "insufficient-attestations";
}>, z.ZodObject<{
    valid: z.ZodLiteral<false>;
    block: z.ZodObject<{
        blockHash: z.ZodOptional<z.ZodType<import("@aztec/foundation/schemas").Fr, any, string>>;
        archive: z.ZodType<import("@aztec/foundation/schemas").Fr, any, string>;
        lastArchive: z.ZodType<import("@aztec/foundation/schemas").Fr, any, string>;
        blockNumber: z.ZodNumber;
        slotNumber: z.ZodNumber;
        txCount: z.ZodNumber;
        timestamp: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    }, "strip", z.ZodTypeAny, {
        blockNumber: number;
        slotNumber: number;
        timestamp: bigint;
        lastArchive: import("@aztec/foundation/schemas").Fr;
        archive: import("@aztec/foundation/schemas").Fr;
        txCount: number;
        blockHash?: import("@aztec/foundation/schemas").Fr | undefined;
    }, {
        blockNumber: number;
        slotNumber: number;
        timestamp: string | number | bigint;
        lastArchive: string;
        archive: string;
        txCount: number;
        blockHash?: string | undefined;
    }>;
    committee: z.ZodArray<z.ZodType<EthAddress, any, string>, "many">;
    epoch: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    seed: z.ZodPipeline<z.ZodUnion<[z.ZodBigInt, z.ZodNumber, z.ZodString]>, z.ZodBigInt>;
    attestors: z.ZodArray<z.ZodType<EthAddress, any, string>, "many">;
    attestations: z.ZodArray<z.ZodEffects<z.ZodObject<{
        address: z.ZodType<EthAddress, any, string>;
        signature: z.ZodEffects<z.ZodEffects<z.ZodEffects<z.ZodString, `0x${string}`, string>, `0x${string}`, string>, import("./proposal/committee_attestation.js").Signature, string>;
    }, "strip", z.ZodTypeAny, {
        address: EthAddress;
        signature: import("./proposal/committee_attestation.js").Signature;
    }, {
        address: string;
        signature: string;
    }>, CommitteeAttestation, {
        address: string;
        signature: string;
    }>, "many">;
    reason: z.ZodLiteral<"invalid-attestation">;
    invalidIndex: z.ZodNumber;
}, "strip", z.ZodTypeAny, {
    valid: false;
    block: {
        blockNumber: number;
        slotNumber: number;
        timestamp: bigint;
        lastArchive: import("@aztec/foundation/schemas").Fr;
        archive: import("@aztec/foundation/schemas").Fr;
        txCount: number;
        blockHash?: import("@aztec/foundation/schemas").Fr | undefined;
    };
    attestations: CommitteeAttestation[];
    committee: EthAddress[];
    epoch: bigint;
    seed: bigint;
    attestors: EthAddress[];
    reason: "invalid-attestation";
    invalidIndex: number;
}, {
    valid: false;
    block: {
        blockNumber: number;
        slotNumber: number;
        timestamp: string | number | bigint;
        lastArchive: string;
        archive: string;
        txCount: number;
        blockHash?: string | undefined;
    };
    attestations: {
        address: string;
        signature: string;
    }[];
    committee: string[];
    epoch: string | number | bigint;
    seed: string | number | bigint;
    attestors: string[];
    reason: "invalid-attestation";
    invalidIndex: number;
}>]>;
export declare function serializeValidateBlockResult(result: ValidateBlockResult): Buffer;
export declare function deserializeValidateBlockResult(bufferOrReader: Buffer | BufferReader): ValidateBlockResult;
//# sourceMappingURL=validate_block_result.d.ts.map