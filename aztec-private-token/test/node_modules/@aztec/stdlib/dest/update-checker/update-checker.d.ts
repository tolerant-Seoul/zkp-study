import { type ViemClient } from '@aztec/ethereum';
import { EthAddress } from '@aztec/foundation/eth-address';
import { EventEmitter } from 'events';
export type EventMap = {
    newRollupVersion: [{
        currentVersion: bigint;
        latestVersion: bigint;
    }];
    newNodeVersion: [{
        currentVersion: string;
        latestVersion: string;
    }];
    updateNodeConfig: [object];
    updatePublicTelemetryConfig: [object];
};
type Config = {
    baseURL: URL;
    nodeVersion?: string;
    checkIntervalMs?: number;
    registryContractAddress: EthAddress;
    publicClient: ViemClient;
    fetch?: typeof fetch;
};
export declare class UpdateChecker extends EventEmitter<EventMap> {
    private updatesUrl;
    private nodeVersion;
    private rollupVersion;
    private fetch;
    private getLatestRollupVersion;
    private checkIntervalMs;
    private log;
    private runningPromise;
    private lastPatchedConfig;
    private lastPatchedPublicTelemetryConfig;
    constructor(updatesUrl: URL, nodeVersion: string | undefined, rollupVersion: bigint, fetch: typeof globalThis.fetch, getLatestRollupVersion: () => Promise<bigint>, checkIntervalMs?: number, // every 10 mins
    log?: import("@aztec/foundation/log").Logger);
    static new(config: Config): Promise<UpdateChecker>;
    start(): void;
    stop(): Promise<void>;
    trigger(): Promise<void>;
    private runChecks;
    private checkRollupVersion;
    private checkConfig;
}
/**
 * Returns package version.
 */
export declare function getPackageVersion(): string | undefined;
export {};
//# sourceMappingURL=update-checker.d.ts.map